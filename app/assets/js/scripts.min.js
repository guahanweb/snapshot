/*!
 * boilerplate
 * Boilerplate Test
 * http://www.guahanweb.com
 * @author Guahan Web
 * @version 0.1.0
 * Copyright 2015. MIT licensed.
 */
!function(t,n,e,i){"use strict";var o,s,a,c,u=400,d=532,r=3e3,p=null,f={init:function(){o=e.getElementById("snapshots"),s=e.getElementById("ss-trigger"),a=e.getElementById("counter-wrapper"),c=e.querySelector("#webcam .flash"),f.setup(),f.listen()},setup:function(){t.set({image_format:"jpeg",jpeg_quality:65,height:u,width:d}),t.attach("#viewport")},listen:function(){t.on("live",function(){f.startLog()}),s.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),f.snap()})},snap:function(){f.countdown(5,function(){setTimeout(function(){c.classList.remove("fading"),c.classList.remove("off"),setTimeout(function(){c.classList.add("fading"),c.classList.add("off")},10)},10),t.snap(f.appendSnapshot)})},countdown:function(t,n){a.querySelector("span.digit").innerHTML=t,a.classList.remove("hidden"),0===t?(a.classList.add("hidden"),n()):setTimeout(function(){f.countdown(t-1,n)},1e3)},appendSnapshot:function(t){var n=e.createElement("IMG");n.setAttribute("src",t),n.setAttribute("height",u/2),n.setAttribute("width",d/2),o.appendChild(n)},startLog:function(){p=setTimeout(function(){t.snap(function(n){t.upload(n,"log.php",function(t){})})},r)},stopLog:function(){clearTimeout(p)}};f.init()}(Webcam,window,document);